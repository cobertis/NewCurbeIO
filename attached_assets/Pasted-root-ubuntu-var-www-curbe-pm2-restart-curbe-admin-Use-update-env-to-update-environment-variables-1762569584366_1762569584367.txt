root@ubuntu:/var/www/curbe# pm2 restart curbe-admin
Use --update-env to update environment variables
[PM2] Applying action restartProcessId on app [curbe-admin](ids: [ 0 ])
[PM2] [curbe-admin](0) âœ“
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name           â”‚ namespace   â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ mem      â”‚ user     â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0  â”‚ curbe-admin    â”‚ default     â”‚ N/A     â”‚ fork    â”‚ 36756    â”‚ 0s     â”‚ 18   â”‚ online    â”‚ 0%       â”‚ 14.0mb   â”‚ root     â”‚ disabled â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
root@ubuntu:/var/www/curbe# sleep 60

root@ubuntu:/var/www/curbe# 
root@ubuntu:/var/www/curbe# pm2 logs curbe-admin --lines 30

[TAILING] Tailing last 30 lines for [curbe-admin] process (change the value with --lines option)
/var/www/curbe/logs/pm2-err.log last 30 lines:
0|curbe-ad | 2025-11-08T02:37:53:     at setupUserModules (node:internal/process/pre_execution:208:5)
0|curbe-ad | 2025-11-08T02:37:53:     at prepareExecution (node:internal/process/pre_execution:161:5)
0|curbe-ad | 2025-11-08T02:37:53:     at prepareMainThreadExecution (node:internal/process/pre_execution:54:10)
0|curbe-ad | 2025-11-08T02:37:53:     at node:internal/main/run_main_module:11:19 {
0|curbe-ad | 2025-11-08T02:37:53:   code: 'MODULE_NOT_FOUND',
0|curbe-ad | 2025-11-08T02:37:53:   requireStack: [ 'internal/preload' ]
0|curbe-ad | 2025-11-08T02:37:53: }
0|curbe-ad | 2025-11-08T02:37:53: 
0|curbe-ad | 2025-11-08T02:37:53: Node.js v20.19.5
0|curbe-ad | 2025-11-08T02:37:53: node:internal/modules/cjs/loader:1210
0|curbe-ad | 2025-11-08T02:37:53:   throw err;
0|curbe-ad | 2025-11-08T02:37:53:   ^
0|curbe-ad | 2025-11-08T02:37:53: 
0|curbe-ad | 2025-11-08T02:37:53: Error: Cannot find module 'dotenv/config'
0|curbe-ad | 2025-11-08T02:37:53: Require stack:
0|curbe-ad | 2025-11-08T02:37:53: - internal/preload
0|curbe-ad | 2025-11-08T02:37:53:     at Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)
0|curbe-ad | 2025-11-08T02:37:53:     at Module._load (node:internal/modules/cjs/loader:1038:27)
0|curbe-ad | 2025-11-08T02:37:53:     at internalRequire (node:internal/modules/cjs/loader:219:19)
0|curbe-ad | 2025-11-08T02:37:53:     at Module._preloadModules (node:internal/modules/cjs/loader:1785:5)
0|curbe-ad | 2025-11-08T02:37:53:     at loadPreloadModules (node:internal/process/pre_execution:747:5)
0|curbe-ad | 2025-11-08T02:37:53:     at setupUserModules (node:internal/process/pre_execution:208:5)
0|curbe-ad | 2025-11-08T02:37:53:     at prepareExecution (node:internal/process/pre_execution:161:5)
0|curbe-ad | 2025-11-08T02:37:53:     at prepareMainThreadExecution (node:internal/process/pre_execution:54:10)
0|curbe-ad | 2025-11-08T02:37:53:     at node:internal/main/run_main_module:11:19 {
0|curbe-ad | 2025-11-08T02:37:53:   code: 'MODULE_NOT_FOUND',
0|curbe-ad | 2025-11-08T02:37:53:   requireStack: [ 'internal/preload' ]
0|curbe-ad | 2025-11-08T02:37:53: }
0|curbe-ad | 2025-11-08T02:37:53: 
0|curbe-ad | 2025-11-08T02:37:53: Node.js v20.19.5

/var/www/curbe/logs/pm2-out.log last 30 lines:
0|curbe-ad | 2025-11-08T02:33:11: 2:33:11 AM [express] GET /api/session 401 in 1ms :: {"message":"Not authenticated"}
0|curbe-ad | 2025-11-08T02:33:29: 2:33:29 AM [express] GET /api/session 401 in 1ms :: {"message":"Not authenticated"}
0|curbe-ad | 2025-11-08T02:33:29: 2:33:29 AM [express] GET /api/session 401 in 0ms :: {"message":"Not authenticated"}
0|curbe-ad | 2025-11-08T02:34:55: Email service initialized successfully
0|curbe-ad | 2025-11-08T02:34:55: Twilio service initialized successfully
0|curbe-ad | 2025-11-08T02:34:55: ==========================================
0|curbe-ad | 2025-11-08T02:34:55: ğŸ”‘ STRIPE INITIALIZED: TEST MODE
0|curbe-ad | 2025-11-08T02:34:55: ğŸ”‘ Key prefix: sk_test_51Rg...
0|curbe-ad | 2025-11-08T02:34:55: ==========================================
0|curbe-ad | 2025-11-08T02:34:55: [WebSocket] Server initialized on path /ws/chat
0|curbe-ad | 2025-11-08T02:34:55: 2:34:55 AM [express] serving on port 5000
0|curbe-ad | 2025-11-08T02:34:55: [REMINDER SCHEDULER] Starting scheduler...
0|curbe-ad | 2025-11-08T02:34:55: [REMINDER SCHEDULER] Scheduler started successfully
0|curbe-ad | 2025-11-08T02:35:25: 2:35:25 AM [express] GET /api/session 401 in 2ms :: {"message":"Not authenticated"}
0|curbe-ad | 2025-11-08T02:35:28: [LOGIN-DEBUG] Login attempt for email: claudia@cobertisinsurance.com
0|curbe-ad | 2025-11-08T02:35:28: 2:35:28 AM [express] POST /api/login 400 in 10ms :: {"message":"Invalid request"}
0|curbe-ad | 2025-11-08T02:38:32: Email service initialized successfully
0|curbe-ad | 2025-11-08T02:38:32: Twilio service initialized successfully
0|curbe-ad | 2025-11-08T02:38:32: ==========================================
0|curbe-ad | 2025-11-08T02:38:32: ğŸ”‘ STRIPE INITIALIZED: TEST MODE
0|curbe-ad | 2025-11-08T02:38:32: ğŸ”‘ Key prefix: sk_test_51Rg...
0|curbe-ad | 2025-11-08T02:38:32: ==========================================
0|curbe-ad | 2025-11-08T02:38:32: [WebSocket] Server initialized on path /ws/chat
0|curbe-ad | 2025-11-08T02:38:32: 2:38:32 AM [express] serving on port 5000
0|curbe-ad | 2025-11-08T02:38:32: [REMINDER SCHEDULER] Starting scheduler...
0|curbe-ad | 2025-11-08T02:38:32: [REMINDER SCHEDULER] Scheduler started successfully
0|curbe-ad | 2025-11-08T02:38:33: 2:38:33 AM [express] GET /api/session 401 in 1ms :: {"message":"Not authenticated"}
0|curbe-ad | 2025-11-08T02:38:33: 2:38:33 AM [express] GET /api/session 401 in 1ms :: {"message":"Not authenticated"}
0|curbe-ad | 2025-11-08T02:38:35: 2:38:35 AM [express] GET /api/session 401 in 1ms :: {"message":"Not authenticated"}
0|curbe-ad | 2025-11-08T02:38:36: 2:38:36 AM [express] GET /api/session 401 in 0ms :: {"message":"Not authenticated"}


