Javier, **sÃ­**, esto que acabas de mencionar *puede causar EXACTAMENTE un delay de 3â€“7 segundos*.

Pero no te engaÃ±es: **solo causa ese delay si tu WebRTC y tu SIP Connection no tienen el mismo orden de codecs o alguno de los codecs negociados no coincide.**

Ahora te explico sin anestesia.

---

# ğŸ§¨ **Resultados tÃ­picos de un MISMATCH de CODECS WebRTC â†” Telnyx**

Cuando los codecs NO estÃ¡n en el mismo orden o falta uno, la negociaciÃ³n SDP hace esto:

1. WebRTC envÃ­a oferta con OPUS primero (siempre)
2. Telnyx responde con G711/G722 primero
3. Browser rechaza ese codec
4. Se intenta renegociar con OPUS
5. Tarda 3â€“5 segundos
6. Cuando finalmente negocian OPUS â†’ **reciÃ©n ahÃ­ oyes audio**

Esto es EXACTAMENTE el sÃ­ntoma que tÃº tienes:

**Audio PSTN â†’ WebRTC tarda 5 segundos en activarse.**

---

# ğŸ”¥ **YO YA HABÃA SOSPECHADO QUE TENÃAS UN PROBLEMA DE NEGOCIACIÃ“N RTPâ€¦ y ESTA CAPTURA LO CONFIRMA.**

Mira tu screenshot:
Telnyx tiene activado este orden:

1. **G.711U**
2. **G.711A**
3. **G722**
4. **OPUS**

Mientras que WebRTC SIEMPRE usa:

âœ” OPUS (primero)
âœ˜ No usa G711 ni G722 como primera opciÃ³n
âœ” Luego fallback

### Â¿QuÃ© significa?

Cada llamada inbound hace esta secuencia:

* Telnyx â†’ â€œPreferirÃ­a G711, toma mi SDPâ€
* WebRTC â†’ â€œOPUS o nadaâ€
* Telnyx â†’ â€œDÃ©jame intentar OPUSâ€
* WebRTC â†’ â€œGracias, ahora sÃ­, audioâ€

Tiempo total: **3â€“6 segundos**
Justo lo que sufres.

---

# ğŸ¯ **SoluciÃ³n REAL para eliminar los 5 segundos**

Tienes dos opciones, y solo una es la correcta para WebRTC:

---

## âœ… OPCIÃ“N 1 â€” Poner OPUS como PRIMER CODEC en Telnyx

Es lo correcto para WebRTC.

Orden recomendado:

1. **OPUS** â† PONLO ARRIBA DE TODO
2. G711U
3. G711A
4. G722

Y si quieres, desactiva G722 (casi ningÃºn browser lo usa).

---

### â— IMPORTANTE

OPUS **SIEMPRE** debe ser el primer codec en Telnyx *si usas WebRTC inbound*.

Si no lo haces â†’ *negociaciÃ³n retardada â†’ 5 segundos de silencio*.

---

## âŒ OPCIÃ“N 2 â€” Forzar WebRTC a usar G711 (NO LA USES)

WebRTC puede usar G711, pero es un downgrade de calidad y no resuelve el problema del fallback.

---

# ğŸ˜¡ **AquÃ­ estÃ¡ tu punto ciego**

TÃº te enfocaste en Telnyx SDK, hangup, TeXML, PRACK, ICE, answerOnBridgeâ€¦

Todo eso afecta otras cosas, pero **NO explica por quÃ© el audio llega EXACTAMENTE a los 5 segundos**.

Ese patrÃ³n es tÃ­pico de:

* codec mismatch
* negociaciÃ³n tardÃ­a
* fallback de OPUS
* restricciÃ³n del proxy (pero aquÃ­ el sÃ­ntoma coincide con codecs)

Tu screenshot confirma que OPUS estÃ¡ al fondo.
**Telnyx ofrece primero codecs que WebRTC no quiere.**
Eso genera fallback â†’ delay.

---

# ğŸ§ª TEST PARA CONFIRMAR AL 100%

Luego de poner OPUS de primero:

* Haz una llamada
* Abre chrome://webrtc-internals
* Mira la grÃ¡fica de ICE + RTP

Si el audio aparece **en menos de 500ms**, ya lo resolviste.

---

# ğŸ§¨ CONCLUSIÃ“N BRUTAL

SÃ­, Javier, **este setting de codecs puede ser EXACTAMENTE la causa del delay.**
Y sÃ­, **es muy probable que sea el culpable principal**.

Porque esto no es un bug oscuro, es:

**Un clÃ¡sico error de configuraciÃ³n SIPâ€“WebRTC que genera 5 segundos de silencio.**

---

# Â¿Quieres que te diga el orden exacto de codecs que debe tener tu conexiÃ³n Telnyx para WebRTC inbound?
